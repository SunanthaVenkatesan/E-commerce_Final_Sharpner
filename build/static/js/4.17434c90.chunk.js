(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{107:function(t,e,c){"use strict";c.r(e);var n=c(12),a=c(1),i=c.n(a),r=c(50),o=c(65),s=c.n(o),l=i.a.createContext({items:[],totalAmount:0,addItem:function(t){},removeItem:function(t){}}),u=c(13),d=c(66),m=c.n(d),j=c(0),b=i.a.forwardRef((function(t,e){return Object(j.jsxs)("div",{className:m.a.input,children:[Object(j.jsx)("label",{htmlFor:t.input.id}),Object(j.jsx)("input",Object(u.a)({ref:e},t.input))]})})),_=c(67),h=c.n(_),x=function(t){var e=Object(a.useState)(!0),c=Object(n.a)(e,2),i=c[0],r=c[1],o=Object(a.useRef)();return Object(j.jsxs)("form",{className:h.a.form,onSubmit:function(e){e.preventDefault();var c=o.current.value,n=+c;0===c.trim().length||n<1||n>5?r(!1):t.onAddToCart(n)},children:[Object(j.jsx)(b,{ref:o,input:{id:"amount_"+t.id,type:"input",min:"1",step:"1",defaultValue:"1"}}),Object(j.jsx)("button",{className:h.a.button,children:"ADD TO CART"}),!i]})},O=c(8),p=function(t){var e=Object(a.useContext)(l);return Object(j.jsx)("li",{className:s.a.list,children:Object(j.jsxs)("span",{className:s.a.imgcontainer,id:t.id,children:[Object(j.jsxs)(O.b,{style:{textDecoration:"none"},to:{pathname:"/store/".concat(t.data.id,"/comments"),state:{data:t.data}},children:[Object(j.jsx)("h3",{children:t.data.title}),Object(j.jsx)("img",{className:s.a.img,src:t.data.imageUrl,alt:""})]}),Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:"Rs.".concat(t.data.price)})}),Object(j.jsx)(x,{id:t.id,onAddToCart:function(c){e.addItem({id:t.data.id,title:t.data.title,amount:c,imageUrl:t.data.imageUrl,price:t.data.price})}})]},t.id)})},f=c(68),g=c.n(f),C=function(t){var e=[{id:1,title:"Colors",price:100,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%201.png"},{id:2,title:"Black and white Colors",price:50,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%202.png"},{id:3,title:"Yellow and Black Colors",price:70,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%203.png"},{id:4,title:"Blue Color",price:100,imageUrl:"https://prasadyash2411.github.io/ecom-website/img/Album%204.png"}].map((function(t){return Object(j.jsx)("ul",{children:Object(j.jsx)(p,{data:t})},t.id)}));return Object(j.jsxs)("section",{children:[Object(j.jsx)("h2",{children:"STORE"}),Object(j.jsx)("div",{className:g.a.container,children:e}),Object(j.jsx)("div",{className:g.a.back,children:Object(j.jsxs)("button",{className:g.a.cartButton,onClick:t.onShowCart,children:[" ",Object(j.jsx)("a",{href:"#cart",className:g.a.cartBottom,children:"SEE THE CART"})]})})]})},v=function(){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(j.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},k=c(69),I=c.n(k),N=function(t){var e=Object(a.useContext)(l).items.reduce((function(t,e){return t+e.amount}),0);return Object(j.jsxs)("button",{className:I.a.button,onClick:t.onClick,children:[Object(j.jsx)("span",{className:I.a.icon,children:Object(j.jsx)(v,{})}),Object(j.jsx)("span",{className:I.a.cart,children:"CART"}),Object(j.jsx)("span",{className:I.a.number,children:e})]})},y=function(t){return Object(j.jsx)(N,{onClick:t.onShowCart})},A=(c(70),c(30)),B=c.n(A),w=c(71),E=c.n(w),R=function(t){return Object(j.jsx)("div",{className:E.a.backdrop,onClick:t.onClose})},D=function(t){return Object(j.jsx)("div",{className:E.a.modal,children:Object(j.jsx)("div",{className:E.a.content,children:t.children})})},F=document.getElementById("overlays"),T=function(t){return Object(j.jsxs)(a.Fragment,{children:[B.a.createPortal(Object(j.jsx)(R,{onClose:t.onClose}),F),B.a.createPortal(Object(j.jsx)(D,{children:t.children}),F)]})},S=(c(72),function(t){return Object(j.jsx)(a.Fragment,{children:Object(j.jsx)("span",{class:"cart-items",children:Object(j.jsxs)("li",{class:"cart-row",children:[Object(j.jsxs)("span",{class:"cart-item cart-column",children:[Object(j.jsx)("img",{class:"cart-img",src:t.imageUrl,alt:""}),Object(j.jsx)("span",{children:t.title})]}),Object(j.jsx)("span",{class:"cart-price cart-column",children:"Rs.".concat(t.price)}),Object(j.jsx)("span",{children:Object(j.jsxs)("div",{class:"cart-quantity cart-column",children:[Object(j.jsx)("button",{onClick:t.onRemove,children:"-"}),Object(j.jsxs)("span",{class:"amount",children:["x",t.amount]}),Object(j.jsx)("button",{onClick:t.onAdd,children:"+"}),Object(j.jsx)("button",{onClick:t.onDelete,children:"REMOVE"})]})})]})})})}),M=function(t){var e=Object(a.useContext)(l),c=e.items.length>0,n=function(t){e.removeItem(t)},i=function(t){e.addItem(Object(u.a)(Object(u.a)({},t),{},{amount:1}))},r=function(t){e.deleteItem({id:t})},o=Object(j.jsx)("ul",{class:"cart-row",children:e.items.map((function(t){return Object(j.jsx)(S,{imageUrl:t.imageUrl,title:t.title,price:t.price,amount:t.amount,onRemove:n.bind(null,t.id),onAdd:i.bind(null,t),onDelete:r.bind(null,t)},t.id)}))});return Object(j.jsxs)(T,{onClose:t.onClose,children:[Object(j.jsx)("button",{class:"cancel",onClick:t.onClose,children:"X"}),Object(j.jsx)("h2",{class:"cart-header",children:"CART"}),Object(j.jsxs)("div",{class:"cart-row cart-header",children:[Object(j.jsx)("span",{class:"title",children:"ITEM"}),Object(j.jsx)("span",{class:"price",children:"PRICE"}),Object(j.jsx)("span",{class:"quantity",children:"QUANTITY"})]}),Object(j.jsx)("li",{class:"cart-items",children:o}),Object(j.jsx)("div",{class:"cart-total",children:Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{class:"total-title",children:Object(j.jsx)("strong",{children:"Total"})}),"Rs.",Object(j.jsx)("span",{id:"total-value",children:"".concat(e.totalAmount)})]})}),c&&Object(j.jsx)("button",{class:"purchase-btn",type:"button",children:"PURCHASE"})]})},U=c(106),Y={items:[],totalAmount:0},H=function(t,e){if("ADD"===e.type){var c,n=t.totalAmount+e.item.price*e.item.amount,a=t.items.findIndex((function(t){return t.id===e.item.id})),i=t.items[a];if(i){var r=Object(u.a)(Object(u.a)({},i),{},{amount:i.amount+e.item.amount});(c=Object(U.a)(t.items))[a]=r}else c=t.items.concat(e.item);return{items:c,totalAmount:n}}if("REMOVE"===e.type){var o,s=t.items.findIndex((function(t){return t.id===e.id})),l=t.items[s],d=t.totalAmount-l.price;if(1===l.amount)o=t.items.filter((function(t){return t.id!==e.id}));else{var m=Object(u.a)(Object(u.a)({},l),{},{amount:l.amount-1});(o=Object(U.a)(t.items))[s]=m}return{items:o,totalAmount:d}}if("DELETE"===e.type){var j=t.items.findIndex((function(t){return t.id===e.id}));if(t.items[j])return t.items.filter((function(t){return t.id!==e.id}))}return Y},P=function(t){var e=Object(a.useReducer)(H,Y),c=Object(n.a)(e,2),i=c[0],r=c[1],o={items:i.items,totalAmount:i.totalAmount,addItem:function(t){r({type:"ADD",item:t})},removeItem:function(t){r({type:"REMOVE",id:t})},deleteItem:function(t){r({type:"DELETE",id:t})}};return Object(j.jsx)(l.Provider,{value:o,children:t.children})},X=c(52),z=c(73),q=c.n(z);e.default=function(t){var e=Object(a.useState)(!1),c=Object(n.a)(e,2),i=c[0],o=c[1],s=function(){o(!0),q.a.post("https://crudcrud.com/api/3d9edcaa8c234acbb81c4acfe7e3f149/cartData")};return Object(j.jsxs)(P,{children:[i&&Object(j.jsx)(M,{onClose:function(){o(!1)}}),Object(j.jsx)(y,{onShowCart:s}),Object(j.jsx)(r.a,{}),Object(j.jsx)(C,{onShowCart:s}),Object(j.jsx)(X.a,{})]})}},50:function(t,e,c){"use strict";c(1);var n=c(51),a=c.n(n),i=c(0);e.a=function(){return Object(i.jsx)("div",{className:a.a.backdrop,children:Object(i.jsx)("h1",{className:a.a.text,children:"D 's Store"})})}},51:function(t,e,c){t.exports={backdrop:"BackDrop_backdrop__23GDM",text:"BackDrop_text__2DNzI"}},52:function(t,e,c){"use strict";var n=c(1),a=c(53),i=c.n(a),r=c(0);e.a=function(t){return Object(r.jsx)(n.Fragment,{children:Object(r.jsx)("div",{className:i.a.back,children:Object(r.jsx)("div",{className:i.a.footer,children:Object(r.jsx)("div",{className:i.a.title,children:"Large Store, Take A Seat..."})})})})}},53:function(t,e,c){t.exports={footer:"Footer_footer__3kRR3",title:"Footer_title__16M1V",icons:"Footer_icons__xYpN5",ul:"Footer_ul__6EiIH",li:"Footer_li__16Xg2",img:"Footer_img__G3m5v",cartButton:"Footer_cartButton__W1Mo_",cartBottom:"Footer_cartBottom__2-N4U",back:"Footer_back__3-If-"}},65:function(t,e,c){t.exports={button:"CategoryItem_button__240P9",imgcontainer:"CategoryItem_imgcontainer__14Aoo",img:"CategoryItem_img__2Pqui",h3:"CategoryItem_h3__13WrY",price:"CategoryItem_price__1Er56",container:"CategoryItem_container__gYQQd",cartbtnbottom:"CategoryItem_cartbtnbottom__3aqbg",cartbottom:"CategoryItem_cartbottom__3p8w-",back:"CategoryItem_back__A3oYY",list:"CategoryItem_list__18SaM"}},66:function(t,e,c){t.exports={input:"Input_input__3Lg_X"}},67:function(t,e,c){t.exports={form:"CategoryItemForm_form__2h4LQ",button:"CategoryItemForm_button__10YcY"}},68:function(t,e,c){t.exports={container:"Categories_container__3Xyyc",cartButton:"Categories_cartButton__1JUF8",cartBottom:"Categories_cartBottom__FGNqa",back:"Categories_back__2j2SK"}},69:function(t,e,c){t.exports={button:"NavBarButton_button__1XwJx",icon:"NavBarButton_icon__10P0d",number:"NavBarButton_number__Xrhwm",bump:"NavBarButton_bump__1tZ93",cart:"NavBarButton_cart__3k76S"}},70:function(t,e,c){},71:function(t,e,c){t.exports={backdrop:"Modal_backdrop__2znzX",modal:"Modal_modal__2QgxK","slide-down":"Modal_slide-down__Y0TjC"}},72:function(t,e,c){}}]);
//# sourceMappingURL=4.17434c90.chunk.js.map