{"version":3,"sources":["Components/MainHeader.module.css","Components/auth-context.js","Components/Category/CategoryDetail.module.css","Components/comments/NewCommentForm.module.css","Components/comments/CommentItem.module.css","Components/comments/CommentsList.module.css","Components/comments/Comments.module.css","Components/UI/LoadingSpinner.module.css","Components/comments/CommentItem.js","Components/comments/CommentsList.js","hooks/use-http.js","lib/api.js","Components/UI/LoadingSpinner.js","Components/comments/NewCommentForm.js","Components/comments/Comments.js","Components/Category/CategoryDetail.js","Components/MainHeader.js","Components/UI/Layout.js","App.js","index.js"],"names":["module","exports","logoutTimer","AuthContext","React","createContext","token","isLoggedIn","login","logout","calculateRemainingTime","expirationTime","currentTime","Date","getTime","AuthContextProvider","props","initialToken","tokenData","storedToken","localStorage","getItem","storedExpirationDate","remainingTime","removeItem","duration","retrieveStoredToken","useState","setToken","userIsLoggedIn","logoutHandler","useCallback","clearTimeout","useEffect","console","log","setTimeout","contextValue","setItem","Provider","value","children","CommentItem","className","classes","item","text","CommentsList","comments","map","comment","id","httpReducer","state","action","type","data","error","status","responseData","errorMessage","useHttp","requestFunction","startWithPending","useReducer","httpState","dispatch","sendRequest","requestData","message","FIREBASE_DOMAIN","addComment","fetch","quoteId","method","body","JSON","stringify","commentData","headers","response","json","ok","Error","commentId","name","getAllComments","key","transformedComments","commentObj","push","LoadingSpinner","spinner","NewCommentForm","commentTextRef","useRef","onAddedComment","submitFormHandler","event","preventDefault","enteredText","current","form","onSubmit","control","htmlFor","rows","ref","actions","Comments","isAddingComment","setIsAddingComment","useParams","loadedComments","addedCommentHandler","length","onClick","CategoryDetail","useLocation","h1","title","img","src","imageUrl","alt","price","path","exact","to","MainHeader","authCtx","useContext","Announcement","bgtext","header","logo","activeClassName","active","Layout","Store","lazy","Home","About","AuthPage","App","fallback","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.6f7ade69.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"MainHeader_navbar__3nuB7\",\"wrapper\":\"MainHeader_wrapper__nHkUZ\",\"left\":\"MainHeader_left__2nROd\",\"active\":\"MainHeader_active__3Fmx_\",\"center\":\"MainHeader_center__3umNu\",\"right\":\"MainHeader_right__28aFs\",\"bgtext\":\"MainHeader_bgtext__3wXL3\",\"header\":\"MainHeader_header__lcmFN\",\"logo\":\"MainHeader_logo__ZT3yR\",\"icon\":\"MainHeader_icon__2mgET\",\"number\":\"MainHeader_number__2EQJ8\"};","import React, { useState, useEffect, useCallback } from 'react';\n\nlet logoutTimer;\n\nconst AuthContext = React.createContext({\n  token: '',\n  isLoggedIn: false,\n  login: (token) => {},\n  logout: () => {},\n});\n\nconst calculateRemainingTime = (expirationTime) => {\n  const currentTime = new Date().getTime();\n  const adjExpirationTime = new Date(expirationTime).getTime();\n\n  const remainingDuration = adjExpirationTime - currentTime;\n\n  return remainingDuration;\n};\n\nconst retrieveStoredToken = () => {\n  const storedToken = localStorage.getItem('token');\n  const storedExpirationDate = localStorage.getItem('expirationTime');\n\n  const remainingTime = calculateRemainingTime(storedExpirationDate);\n\n  if (remainingTime <= 3600) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('expirationTime');\n    return null;\n  }\n\n  return {\n    token: storedToken,\n    duration: remainingTime,\n  };\n};\n\nexport const AuthContextProvider = (props) => {\n  const tokenData = retrieveStoredToken();\n  \n  let initialToken;\n  if (tokenData) {\n    initialToken = tokenData.token;\n  }\n\n  const [token, setToken] = useState(initialToken);\n\n  const userIsLoggedIn = !!token;\n\n  const logoutHandler = useCallback(() => {\n    setToken(null);\n    localStorage.removeItem('token');\n    localStorage.removeItem('expirationTime');\n\n    if (logoutTimer) {\n      clearTimeout(logoutTimer);\n    }\n  }, []);\n\n  const loginHandler = (token, expirationTime) => {\n    setToken(token);\n    localStorage.setItem('token', token);\n    localStorage.setItem('expirationTime', expirationTime);\n\n    const remainingTime = calculateRemainingTime(expirationTime);\n\n    logoutTimer = setTimeout(logoutHandler, remainingTime);\n  };\n\n  useEffect(() => {\n    if (tokenData) {\n      console.log(tokenData.duration);\n      logoutTimer = setTimeout(logoutHandler, tokenData.duration);\n    }\n  }, [tokenData, logoutHandler]);\n\n  const contextValue = {\n    token: token,\n    isLoggedIn: userIsLoggedIn,\n    login: loginHandler,\n    logout: logoutHandler,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\nexport default AuthContext;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h1\":\"CategoryDetail_h1__26-_N\",\"img\":\"CategoryDetail_img__crDEH\",\"title\":\"CategoryDetail_title__VKyGm\",\"price\":\"CategoryDetail_price__3gvZj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewCommentForm_form__tvDFr\",\"loading\":\"NewCommentForm_loading__14GiD\",\"control\":\"NewCommentForm_control__cqBAA\",\"actions\":\"NewCommentForm_actions__2uSLi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CommentItem_item__3b1Ec\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"CommentsList_comments__A4g3T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comments\":\"Comments_comments__3T-zU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__4T_sj\"};","import classes from './CommentItem.module.css';\n\nconst CommentItem = (props) => {\n  return (\n    <li className={classes.item}>\n      <p>{props.text}</p>\n    </li>\n  );\n};\n\nexport default CommentItem;\n","import CommentItem from './CommentItem';\nimport classes from './CommentsList.module.css';\n\nconst CommentsList = (props) => {\n  return (\n    <ul className={classes.comments}>\n      {props.comments.map((comment) => (\n        <CommentItem key={comment.id} text={comment.text} />\n      ))}\n    </ul>\n  );\n};\n\nexport default CommentsList;\n","import { useReducer, useCallback } from 'react';\n\nfunction httpReducer(state, action) {\n  if (action.type === 'SEND') {\n    return {\n      data: null,\n      error: null,\n      status: 'pending',\n    };\n  }\n\n  if (action.type === 'SUCCESS') {\n    return {\n      data: action.responseData,\n      error: null,\n      status: 'completed',\n    };\n  }\n\n  if (action.type === 'ERROR') {\n    return {\n      data: null,\n      error: action.errorMessage,\n      status: 'completed',\n    };\n  }\n\n  return state;\n}\n\nfunction useHttp(requestFunction, startWithPending = false) {\n  const [httpState, dispatch] = useReducer(httpReducer, {\n    status: startWithPending ? 'pending' : null,\n    data: null,\n    error: null,\n  });\n\n  const sendRequest = useCallback(\n    async function (requestData) {\n      dispatch({ type: 'SEND' });\n      try {\n        const responseData = await requestFunction(requestData);\n        dispatch({ type: 'SUCCESS', responseData });\n      } catch (error) {\n        dispatch({\n          type: 'ERROR',\n          errorMessage: error.message || 'Something went wrong!',\n        });\n      }\n    },\n    [requestFunction]\n  );\n\n  return {\n    sendRequest,\n    ...httpState,\n  };\n}\n\nexport default useHttp;\n","const FIREBASE_DOMAIN = 'https://react-http-ba0c5-default-rtdb.firebaseio.com';\n\nexport async function getAllQuotes() {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not fetch quotes.');\n  }\n\n  const transformedQuotes = [];\n\n  for (const key in data) {\n    const quoteObj = {\n      id: key,\n      ...data[key],\n    };\n\n    transformedQuotes.push(quoteObj);\n  }\n\n  return transformedQuotes;\n}\n\nexport async function getSingleQuote(quoteId) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes/${quoteId}.json`);\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not fetch quote.');\n  }\n\n  const loadedQuote = {\n    id: quoteId,\n    ...data,\n  };\n\n  return loadedQuote;\n}\n\nexport async function addQuote(quoteData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/quotes.json`, {\n    method: 'POST',\n    body: JSON.stringify(quoteData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not create quote.');\n  }\n\n  return null;\n}\n\nexport async function addComment(requestData) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/comments/${requestData.quoteId}.json`, {\n    method: 'POST',\n    body: JSON.stringify(requestData.commentData),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not add comment.');\n  }\n\n  return { commentId: data.name };\n}\n\nexport async function getAllComments(quoteId) {\n  const response = await fetch(`${FIREBASE_DOMAIN}/comments/${quoteId}.json`);\n\n  const data = await response.json();\n\n  if (!response.ok) {\n    throw new Error(data.message || 'Could not get comments.');\n  }\n\n  const transformedComments = [];\n\n  for (const key in data) {\n    const commentObj = {\n      id: key,\n      ...data[key],\n    };\n\n    transformedComments.push(commentObj);\n  }\n\n  return transformedComments;\n}\n","import classes from './LoadingSpinner.module.css';\n\nconst LoadingSpinner = () => {\n  return <div className={classes.spinner}></div>;\n}\n\nexport default LoadingSpinner;\n","import { useRef, useEffect } from \"react\";\n\nimport useHttp from \"../../hooks/use-http\";\nimport { addComment } from \"../../lib/api\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport classes from \"./NewCommentForm.module.css\";\n\nconst NewCommentForm = (props) => {\n  const commentTextRef = useRef();\n  const { sendRequest, status, error } = useHttp(addComment);\n\n\n  const { onAddedComment } = props;\n  useEffect(() => {\n    if (status === \"completed\" && !error) {\n      onAddedComment()\n    }\n  }, [status, error,onAddedComment]);\n\n  const submitFormHandler = (event) => {\n    event.preventDefault();\n    const enteredText = commentTextRef.current.value;\n\n    // optional: Could validate here\n\n    // send comment to server\n    sendRequest({commentData:{ text: enteredText},quoteId:props.quoteId});\n  };\n\n  return (\n    <form className={classes.form} onSubmit={submitFormHandler}>\n      {status === \"pending\" && (\n        <div className=\"centered\">\n          <LoadingSpinner />\n        </div>\n      )}\n      <div className={classes.control} onSubmit={submitFormHandler}>\n        <label htmlFor=\"comment\">Your Comment</label>\n        <textarea id=\"comment\" rows=\"5\" ref={commentTextRef}></textarea>\n      </div>\n      <div className={classes.actions}>\n        <button className=\"btn\">Add Reviews</button>\n      </div>\n    </form>\n  );\n};\n\nexport default NewCommentForm;\n","import { useState, useEffect, useCallback } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport CommentsList from \"./CommentsList\";\nimport classes from \"./Comments.module.css\";\nimport NewCommentForm from \"./NewCommentForm\";\nimport useHttp from \"../../hooks/use-http\";\nimport { getAllComments } from \"../../lib/api\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nconst Comments = () => {\n  const [isAddingComment, setIsAddingComment] = useState(false);\n  const params = useParams();\n  const { quoteId } = params;\n  const {\n    sendRequest,\n    status,\n    data: loadedComments,\n  \n  } = useHttp(getAllComments);\n  useEffect(() => {\n    sendRequest(quoteId);\n  }, [quoteId, sendRequest]);\n\n  const startAddCommentHandler = () => {\n    setIsAddingComment(true);\n  };\n  const addedCommentHandler = useCallback(() => {\n    sendRequest(quoteId)\n  },[sendRequest,quoteId]);\n  let comments;\n  if (status === \"pending\") {\n    comments = (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n  if (status === \"completed\" && loadedComments && loadedComments.length > 0) {\n    comments = <CommentsList comments={loadedComments} />;\n  }\n  if (\n    status === \"completed\" &&\n    !loadedComments &&\n    loadedComments.length === 0\n  ) {\n    comments = <p className=\"centered\">No reviews were added yet!</p>;\n  }\n\n  return (\n    <section className={classes.comments}>\n      <h2>Reviews</h2>\n      {!isAddingComment && (\n        <button className=\"btn\" onClick={startAddCommentHandler}>\n          Add a Review\n        </button>\n      )}\n      {isAddingComment && (\n        <NewCommentForm\n          quoteId={quoteId}\n          onAddedComment={addedCommentHandler}\n        />\n      )}\n      {comments}\n    </section>\n  );\n};\n\nexport default Comments;\n","import React, { Fragment } from \"react\";\nimport { useLocation, Link, Route } from \"react-router-dom\";\nimport Comments from \"../comments/Comments\";\nimport classes from \"./CategoryDetail.module.css\";\n\nconst CategoryDetail = () => {\n  const location = useLocation();\n  const { data } = location.state;\n\n  return (\n    <Fragment>\n      <h1 className={classes.h1}>Product Detail</h1>\n      <div>\n        <h1 className={classes.title}>{data.title}</h1>\n        <div className=\"centered\">\n          <img className={classes.img} src={data.imageUrl} alt=\"product\" />\n        </div>\n        \n          <p className={classes.price}>Rs.{data.price}</p>\n          <div>\n          <h3 className=\"centered\">Description</h3>\n          <p>Lorem ipsum carrots enhanced rebates. Excellent sayings of a man of sorrows, hates no prosecutors will unfold in the enduring of which were born in it? Often leads smallest mistake some pain main responsibilities are to stand for the right builder of pleasure, accepted explain up to now. , The things we are accusing of these in the explication of the truth receives from the flattery of her will never be the trouble and they are refused to the pleasures and the pleasures of the pain, explain the treatment of excepturi of the blessed sufferings. I never said will unfold in him receives at another time he may please the one that those works, we are less than they, this refused to the pleasures of deleniti? Those are! Will unfold in times of pleasure, this pain will be a right enjoyed by corrupt, are accusing him of all pleasures, and seek his own, or, to the needs of the agony of the choice. We hate the fellow.\nLorem ipsum dolor, sit amet consectetur rebates. The distinction, that arise from or to. </p>\n          </div>\n  \n\n        <Route path={`/store/${data.id}`} exact>\n          <div className=\"centered\">\n            <Link className=\"btn--flat\" to={`/store/${data.id}/comments`}>\n              Load Comments\n            </Link>\n          </div>\n        </Route>\n\n        <Route path={`/store/${data.id}/comments`}>\n          <Comments />\n        </Route>\n      </div>\n    </Fragment>\n  );\n};\nexport default CategoryDetail;\n\n// import React from \"react\";\n// import { useParams, Route, Link } from \"react-router-dom\";\n// import Comments from \"../comments/Comments\";\n\n// const productsArr = [\n//   {\n//     id: 1,\n//     title: \"Colors\",\n\n//     price: 100,\n\n//     imageUrl: \"https://prasadyash2411.github.io/ecom-website/img/Album%201.png\",\n//   },\n\n//   {\n//     id: 2,\n//     title: \"Black and white Colors\",\n\n//     price: 50,\n\n//     imageUrl: \"https://prasadyash2411.github.io/ecom-website/img/Album%202.png\",\n//   },\n\n//   {\n//     id: 3,\n//     title: \"Yellow and Black Colors\",\n\n//     price: 70,\n\n//     imageUrl: \"https://prasadyash2411.github.io/ecom-website/img/Album%203.png\",\n//   },\n\n//   {\n//     id: 4,\n//     title: \"Blue Color\",\n\n//     price: 100,\n\n//     imageUrl: \"https://prasadyash2411.github.io/ecom-website/img/Album%204.png\",\n//   },\n// ];\n// const CategoryDetail = (props) => {\n// const params = useParams();\n// const {storeId}=params\n//   const store = productsArr.find((item) => item.id === storeId);\n\n//   return (\n//     <section>\n\n//       <p>{storeId}</p>\n//       {/* <h1>{store.title}</h1> */}\n\n// <Route path={`/stores/${params.storeId}`}exact>\n// <div className=\"centered\">\n//   <Link className=\"btn--flat\" to={`/stores/${params.storeId}/comments`}>\n//     Load Comments\n//   </Link>\n// </div>\n// </Route>\n\n// <Route path={`/stores/${params.storeId}/comments`}>\n//   <Comments />\n// </Route>\n\n//     </section>\n//   );\n// };\n\n// export default CategoryDetail;\n","import React from \"react\";\nimport classes from \"./MainHeader.module.css\";\nimport { useContext} from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport AuthContext from \"./auth-context\";\n\n\n\n\n\n//it allows us to create a link insted of <a href> as <NavLink to =\"\">\n//NavLink actually highlights the active link\n\nconst MainHeader = (props) => {\n  \n  const authCtx = useContext(AuthContext);\n\n  const isLoggedIn = authCtx.isLoggedIn;\n  const logoutHandler = () => {\n    authCtx.logout();\n  };\n  const Announcement = () => {\n    return (\n      <div className={classes.bgtext}>\n        Super Deal !!! Free shipping on orders above Rs.500.\n      </div>\n    );\n  };\n  return (\n    // <header className={classes.navbar}>\n    //   <Announcement />\n\n    //   <div className={classes.wrapper}>\n    //     <NavLink\n    //       activeClassName={classes.active}\n    //       to=\"/home\"\n    //       className={classes.left}\n    //     >\n    //       HOME\n    //     </NavLink>\n    //     <NavLink\n    //       activeClassName={classes.active}\n    //       to=\"/store\"\n    //       className={classes.center}\n    //     >\n    //       STORE\n    //     </NavLink>\n    //     <NavLink\n    //       activeClassName={classes.active}\n    //       to=\"/about\"\n    //       className={classes.right}\n    //     >\n    //       ABOUT\n    //     </NavLink>\n\n    //   </div>\n    // </header>\n\n    <header className={classes.header}>\n      <Link to=\"/\">\n        <div className={classes.logo}>D's Store</div>\n      </Link>\n      <Announcement />\n      <nav>\n        <ul>\n          {!isLoggedIn && (\n            <li>\n              <Link to=\"/auth\">Login</Link>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <NavLink activeClassName={classes.active} to=\"/home\">\n                HOME\n              </NavLink>\n            </li>\n          )}\n          {isLoggedIn && (\n            <li>\n              <NavLink activeClassName={classes.active} to=\"/store\">\n                STORE\n              </NavLink>\n \n            </li>\n                      \n          )}\n         \n          {!isLoggedIn && (\n            <li>\n              <NavLink activeClassName={classes.active} to=\"/about\">\n                ABOUT\n              </NavLink>\n            </li>\n          )}\n          \n          \n          {isLoggedIn && (\n            <li>\n              <button onClick={logoutHandler}>Logout</button>\n            </li>\n          )}\n\n          {/* {isLoggedIn && (\n            <li>\n                \n          \n          \n \n  \n\n            </li>\n          )} */}\n        \n             \n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default MainHeader;\n","import { Fragment } from 'react';\n\nimport MainHeader from '../MainHeader';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainHeader />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;","import { Route, Switch, Redirect } from \"react-router-dom\"; //a component that allows us to define a certain path and a component that\n//should be loaded when that path becomes active URL\nimport React, { useContext, Suspense } from \"react\";\n\n\n\n\n\nimport AuthContext from \"./Components/auth-context\";\nimport CategoryDetail from \"./Components/Category/CategoryDetail\";\nimport Layout from \"./Components/UI/Layout\";\n\nconst Store=React.lazy(()=>import('./Pages/Store'))\nconst Home=React.lazy(()=>import('./Pages/Home'))\nconst About=React.lazy(()=>import('./Pages/About'))\nconst AuthPage=React.lazy(()=>import('./Pages/AuthPage'))\n\n\n\nfunction App(props) {\n  const authCtx = useContext(AuthContext);\n  return (\n    <Layout>\n      <Suspense fallback={<p>Loading...</p>}>\n      <Switch>\n        <Route path=\"/\" exact>\n          <About />\n        </Route>\n        {!authCtx.isLoggedIn && (\n          <Route path=\"/auth\">\n            <AuthPage />\n          </Route>\n        )}\n        <Route path=\"/home\">\n          {authCtx.isLoggedIn && <Home />}\n          {!authCtx.isLoggedIn && <Redirect to=\"/\" />}\n        </Route>\n\n        <Route path=\"/store\" exact>\n          {authCtx.isLoggedIn && <Store />}\n          {!authCtx.isLoggedIn && <Redirect to=\"/\" />}\n        </Route>\n        {/* The below is the dynamic path setting and the valur after : can be anything  */}\n        <Route path=\"/store/:storeId\">\n          {authCtx.isLoggedIn && <CategoryDetail />}\n          {!authCtx.isLoggedIn && <Redirect to=\"/\" />}\n        </Route>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"*\">\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n      </Suspense>\n    </Layout>\n  );\n}\n\nexport default App;\n/*\n\n     <Route path=\"/store\">=this path makes sure that only if the URL has welcome and then the contents will be displayed\n      <Route path=\"/store\">==>loads the store component \n       <Route path=\"/home\">=>loads the home component\n        <Route path=\"/about\">==>loads the about component \n        The exact props tells that it should lead to the same exact match if exists \n*/\n","import ReactDOM from \"react-dom/client\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./Components/auth-context\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n  <AuthContextProvider>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  </AuthContextProvider>\n);\n"],"sourceRoot":""}