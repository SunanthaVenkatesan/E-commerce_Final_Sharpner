(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{11:function(e,t,n){e.exports={navbar:"MainHeader_navbar__3nuB7",wrapper:"MainHeader_wrapper__nHkUZ",left:"MainHeader_left__2nROd",active:"MainHeader_active__3Fmx_",center:"MainHeader_center__3umNu",right:"MainHeader_right__28aFs",bgtext:"MainHeader_bgtext__3wXL3",header:"MainHeader_header__lcmFN",logo:"MainHeader_logo__ZT3yR",icon:"MainHeader_icon__2mgET",number:"MainHeader_number__2EQJ8"}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c,r=n(12),a=n(1),s=n.n(a),o=n(0),i=s.a.createContext({token:"",isLoggedIn:!1,login:function(e){},logout:function(){}}),l=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},u=function(e){var t,n=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=l(t);return n<=3600?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}}();n&&(t=n.token);var s=Object(a.useState)(t),u=Object(r.a)(s,2),d=u[0],j=u[1],m=!!d,b=Object(a.useCallback)((function(){j(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),c&&clearTimeout(c)}),[]);Object(a.useEffect)((function(){n&&(console.log(n.duration),c=setTimeout(b,n.duration))}),[n,b]);var h={token:d,isLoggedIn:m,login:function(e,t){j(e),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t);var n=l(t);c=setTimeout(b,n)},logout:b};return Object(o.jsx)(i.Provider,{value:h,children:e.children})};t.b=i},16:function(e,t,n){e.exports={h1:"CategoryDetail_h1__26-_N",img:"CategoryDetail_img__crDEH",title:"CategoryDetail_title__VKyGm",price:"CategoryDetail_price__3gvZj"}},17:function(e,t,n){e.exports={form:"NewCommentForm_form__tvDFr",loading:"NewCommentForm_loading__14GiD",control:"NewCommentForm_control__cqBAA",actions:"NewCommentForm_actions__2uSLi"}},24:function(e,t,n){e.exports={item:"CommentItem_item__3b1Ec"}},25:function(e,t,n){e.exports={comments:"CommentsList_comments__A4g3T"}},26:function(e,t,n){e.exports={comments:"Comments_comments__3T-zU"}},27:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__4T_sj"}},38:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(23),r=n.n(c),a=n(8),s=(n(38),n(2)),o=n(1),i=n.n(o),l=n(14),u=n(12),d=n(24),j=n.n(d),m=n(0),b=function(e){return Object(m.jsx)("li",{className:j.a.item,children:Object(m.jsx)("p",{children:e.text})})},h=n(25),x=n.n(h),p=function(e){return Object(m.jsx)("ul",{className:x.a.comments,children:e.comments.map((function(e){return Object(m.jsx)(b,{text:e.text},e.id)}))})},O=n(26),f=n.n(O),g=n(13),_=n(4),v=n(9);function w(e,t){return"SEND"===t.type?{data:null,error:null,status:"pending"}:"SUCCESS"===t.type?{data:t.responseData,error:null,status:"completed"}:"ERROR"===t.type?{data:null,error:t.errorMessage,status:"completed"}:e}var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.useReducer)(w,{status:t?"pending":null,data:null,error:null}),c=Object(u.a)(n,2),r=c[0],a=c[1],s=Object(o.useCallback)(function(){var t=Object(v.a)(Object(_.a)().mark((function t(n){var c;return Object(_.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SEND"}),t.prev=1,t.next=4,e(n);case 4:c=t.sent,a({type:"SUCCESS",responseData:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(g.a)({sendRequest:s},r)},y="https://react-http-ba0c5-default-rtdb.firebaseio.com";function C(e){return S.apply(this,arguments)}function S(){return(S=Object(v.a)(Object(_.a)().mark((function e(t){var n,c;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/comments/").concat(t.quoteId,".json"),{method:"POST",body:JSON.stringify(t.commentData),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not add comment.");case 8:return e.abrupt("return",{commentId:c.name});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(Object(_.a)().mark((function e(t){var n,c,r,a,s;return Object(_.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(y,"/comments/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not get comments.");case 8:for(a in r=[],c)s=Object(g.a)({id:a},c[a]),r.push(s);return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=n(27),D=n.n(T),L=function(){return Object(m.jsx)("div",{className:D.a.spinner})},R=n(17),E=n.n(R),H=function(e){var t=Object(o.useRef)(),n=N(C),c=n.sendRequest,r=n.status,a=n.error,s=e.onAddedComment;Object(o.useEffect)((function(){"completed"!==r||a||s()}),[r,a,s]);var i=function(n){n.preventDefault();var r=t.current.value;c({commentData:{text:r},quoteId:e.quoteId})};return Object(m.jsxs)("form",{className:E.a.form,onSubmit:i,children:["pending"===r&&Object(m.jsx)("div",{className:"centered",children:Object(m.jsx)(L,{})}),Object(m.jsxs)("div",{className:E.a.control,onSubmit:i,children:[Object(m.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(m.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),Object(m.jsx)("div",{className:E.a.actions,children:Object(m.jsx)("button",{className:"btn",children:"Add Reviews"})})]})},M=function(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(s.i)().quoteId,a=N(k),i=a.sendRequest,l=a.status,d=a.data;Object(o.useEffect)((function(){i(r)}),[r,i]);var j,b=Object(o.useCallback)((function(){i(r)}),[i,r]);return"pending"===l&&(j=Object(m.jsx)("div",{className:"centered",children:Object(m.jsx)(L,{})})),"completed"===l&&d&&d.length>0&&(j=Object(m.jsx)(p,{comments:d})),"completed"!==l||d||0!==d.length||(j=Object(m.jsx)("p",{className:"centered",children:"No reviews were added yet!"})),Object(m.jsxs)("section",{className:f.a.comments,children:[Object(m.jsx)("h2",{children:"Reviews"}),!n&&Object(m.jsx)("button",{className:"btn",onClick:function(){c(!0)},children:"Add a Review"}),n&&Object(m.jsx)(H,{quoteId:r,onAddedComment:b}),j]})},F=n(16),q=n.n(F),A=function(){var e=Object(s.h)().state.data;return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)("h1",{className:q.a.h1,children:"Product Detail"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:q.a.title,children:e.title}),Object(m.jsx)("div",{className:"centered",children:Object(m.jsx)("img",{className:q.a.img,src:e.imageUrl,alt:"product"})}),Object(m.jsxs)("p",{className:q.a.price,children:["Rs.",e.price]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h3",{className:"centered",children:"Description"}),Object(m.jsx)("p",{children:"Lorem ipsum carrots enhanced rebates. Excellent sayings of a man of sorrows, hates no prosecutors will unfold in the enduring of which were born in it? Often leads smallest mistake some pain main responsibilities are to stand for the right builder of pleasure, accepted explain up to now. , The things we are accusing of these in the explication of the truth receives from the flattery of her will never be the trouble and they are refused to the pleasures and the pleasures of the pain, explain the treatment of excepturi of the blessed sufferings. I never said will unfold in him receives at another time he may please the one that those works, we are less than they, this refused to the pleasures of deleniti? Those are! Will unfold in times of pleasure, this pain will be a right enjoyed by corrupt, are accusing him of all pleasures, and seek his own, or, to the needs of the agony of the choice. We hate the fellow. Lorem ipsum dolor, sit amet consectetur rebates. The distinction, that arise from or to. "})]}),Object(m.jsx)(s.b,{path:"/store/".concat(e.id),exact:!0,children:Object(m.jsx)("div",{className:"centered",children:Object(m.jsx)(a.b,{className:"btn--flat",to:"/store/".concat(e.id,"/comments"),children:"Load Comments"})})}),Object(m.jsx)(s.b,{path:"/store/".concat(e.id,"/comments"),children:Object(m.jsx)(M,{})})]})]})},U=n(11),z=n.n(U),B=function(e){var t=Object(o.useContext)(l.b),n=t.isLoggedIn,c=function(){return Object(m.jsx)("div",{className:z.a.bgtext,children:"Super Deal !!! Free shipping on orders above Rs.500."})};return Object(m.jsxs)("header",{className:z.a.header,children:[Object(m.jsx)(a.b,{to:"/",children:Object(m.jsx)("div",{className:z.a.logo,children:"D's Store"})}),Object(m.jsx)(c,{}),Object(m.jsx)("nav",{children:Object(m.jsxs)("ul",{children:[!n&&Object(m.jsx)("li",{children:Object(m.jsx)(a.b,{to:"/auth",children:"Login"})}),n&&Object(m.jsx)("li",{children:Object(m.jsx)(a.c,{activeClassName:z.a.active,to:"/home",children:"HOME"})}),n&&Object(m.jsx)("li",{children:Object(m.jsx)(a.c,{activeClassName:z.a.active,to:"/store",children:"STORE"})}),!n&&Object(m.jsx)("li",{children:Object(m.jsx)(a.c,{activeClassName:z.a.active,to:"/about",children:"ABOUT"})}),n&&Object(m.jsx)("li",{children:Object(m.jsx)("button",{onClick:function(){t.logout()},children:"Logout"})})]})})]})},J=function(e){return Object(m.jsxs)(o.Fragment,{children:[Object(m.jsx)(B,{}),Object(m.jsx)("main",{children:e.children})]})},P=i.a.lazy((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,107))})),Z=i.a.lazy((function(){return n.e(5).then(n.bind(null,108))})),G=i.a.lazy((function(){return n.e(6).then(n.bind(null,109))})),W=i.a.lazy((function(){return n.e(7).then(n.bind(null,110))}));var K=function(e){var t=Object(o.useContext)(l.b);return Object(m.jsx)(J,{children:Object(m.jsx)(o.Suspense,{fallback:Object(m.jsx)("p",{children:"Loading..."}),children:Object(m.jsxs)(s.d,{children:[Object(m.jsx)(s.b,{path:"/",exact:!0,children:Object(m.jsx)(G,{})}),!t.isLoggedIn&&Object(m.jsx)(s.b,{path:"/auth",children:Object(m.jsx)(W,{})}),Object(m.jsxs)(s.b,{path:"/home",children:[t.isLoggedIn&&Object(m.jsx)(Z,{}),!t.isLoggedIn&&Object(m.jsx)(s.a,{to:"/"})]}),Object(m.jsxs)(s.b,{path:"/store",exact:!0,children:[t.isLoggedIn&&Object(m.jsx)(P,{}),!t.isLoggedIn&&Object(m.jsx)(s.a,{to:"/"})]}),Object(m.jsxs)(s.b,{path:"/store/:storeId",children:[t.isLoggedIn&&Object(m.jsx)(A,{}),!t.isLoggedIn&&Object(m.jsx)(s.a,{to:"/"})]}),Object(m.jsx)(s.b,{path:"/about",children:Object(m.jsx)(G,{})}),Object(m.jsx)(s.b,{path:"*",children:Object(m.jsx)(s.a,{to:"/"})})]})})})};r.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(l.a,{children:Object(m.jsx)(a.a,{children:Object(m.jsx)(K,{})})}))}},[[47,1,2]]]);
//# sourceMappingURL=main.6f7ade69.chunk.js.map